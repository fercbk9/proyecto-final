<div [@routerTransition]>
	<div class="jumbotron">
  	<h1 class="display-4">Alimentación Pellicer</h1>
  	<p class="lead"></p>
  	<hr class="my-4">
  	<p>Sistema de gestión empresarial para empleados e inventarios.</p>

	</div>
	<div class="row">
		<div class="col-md-6">
		<div class="col-md-10">
				<div class="alert alert-danger col-md-12 text-center" role="alert" *ngIf="errorV">
						{{errorV}}
					</div>
					<div class="alert alert-success col-md-12 text-center" role="alert" *ngIf="correcto">
							{{correcto}}
						</div>
			<form>
			<h2>Vacaciones</h2>
			<hr>
			<div class="form-group">
			<label for="inicio">Fecha inicio</label>
			<input type="date" name="fecha_v_inicio" [(ngModel)]="fecha_v_inicio" class="form-control" id="inicio" aria-describedby="emailHelp" placeholder="fecha">
			</div>
			<div class="form-group">
			<label for="fin">Fecha fin</label>
			<input type="date" name="fecha_v_fin" [(ngModel)]="fecha_v_fin" class="form-control" id="fin" aria-describedby="emailHelp" placeholder="Fecha">
			</div>
			<div class="form-group">
			<button type="submit" class="btn btn-primary" (click)="pidoVacaciones()">Asignar vacaciones</button>
			</div>
			
			</form>
		</div>
		</div>



		<!--Nominas para los empleados-->
		<div class="col-md-4">
				<div class="alert alert-danger col-md-12 text-center" role="alert" *ngIf="error">
						{{error}}
					</div>
			<form>
					<h2>Nóminas</h2>
					<hr>
				<div class="form-group">
					<div class="input-group mb-8">
						<div class="input-group-prepend">
						  <label class="input-group-text" for="inputGroupSelect01">Mes</label>
						</div>
						<select class="custom-select" id="inputGroupSelect01" name="mes_elegido" [(ngModel)]="mes_elegido">
						  <option selected disabled value="99">Eligir Mes</option>
						  <option value="0">Enero</option>
						  <option value="1">Febrero</option>
						  <option value="2">Marzo</option>
						  <option value="3">Abril</option>
						  <option value="4">Mayo</option>
						  <option value="5">Junio</option>
						  <option value="6">Julio</option>
						  <option value="7">Agosto</option>
						  <option value="8">Septiembre</option>
						  <option value="9">Octubre</option>
						  <option value="10">Noviembre</option>
						  <option value="11">Diciembre</option>
						</select>
					  </div>
				</div>
				<div class="form-group">
					<div class="input-group mb-8">
						<div class="input-group-prepend">
						  <label class="input-group-text" for="inputGroupSelect02">Año</label>
						</div>
						<select class="custom-select" id="inputGroupSelect02" name="year_elegido" [(ngModel)]="year_elegido">
						  <option *ngFor="let i of years">{{i}}</option>
						</select>
						</div>
						
				</div>
				<div class="form-group">
					<button type="submit" class="btn btn-success" (click)="verNomina()">Descargar Nómina</button>
				</div>
		</form>
	</div>


	<!--Lista De Vacaciones Que tiene cada empleado-->
	<div class="col-md-6" *ngIf="listado_vacaciones">

	
			<h2>Lista Vacaciones</h2>
			<hr>
			<div class="list-group">
				<a *ngFor="let i of vacaciones" class="list-group-item list-group-item-action">Inicio: {{i['fecha_inicio']}} |  Fin: {{i['fecha_fin']}}</a>
			</div>



</div>






		<!--Administrar Nominas solo para Usuarios Admin-->
		<div class="col-md-6">
		<div class="alert alert-success col-md-12 text-center" role="alert" *ngIf="ok">
				{{ok}}
			</div>
			<div class="alert alert-danger col-md-12 text-center" role="alert" *ngIf="errorN">
				{{errorN}}
			</div>
		<form *ngIf="admin">
			<h2>Administrar Nóminas</h2>
			<hr>
			<div class="form-group">
				<div class="input-group mb-3">
					<div class="input-group-prepend">
					  <label class="input-group-text" for="inputGroupSelect03">Empleado</label>
					</div>
					<select class="custom-select" id="inputGroupSelect03" name="empleadoElegido" [(ngModel)]="empleadoElegido" placeholder="Elegir Empleado">
					<option selected disabled value="99">Elegir Empleado</option>
					<option *ngFor="let i of empleados" [value]="i.id">{{i.nombre}} {{i.apellidos}}</option>
					</select>
					</div>
					
			</div>
			<div class="form-group">
					<div class="input-group mb-3">
							<div class="input-group-prepend">
							  <label class="input-group-text" for="inputGroupSelect033">Salario Base</label>
							</div>
							<input type="number" class="form-control" id="salBase" name="salario_base" [(ngModel)]="salario_base" aria-describedby="emailHelp" placeholder="1000">
							
							</div>
			
			</div>
			<div class="form-group">
					<div class="input-group mb-3">
						<div class="input-group-prepend">
						  <label class="input-group-text" for="inputGroupSelect011">Mes</label>
						</div>
						<select class="custom-select" id="inputGroupSelect011" name="mes_elegidoA" [(ngModel)]="mes_elegidoA">
						  <option selected disabled value="99">Eligir Mes</option>
						  <option value="0">Enero</option>
						  <option value="1">Febrero</option>
						  <option value="2">Marzo</option>
						  <option value="3">Abril</option>
						  <option value="4">Mayo</option>
						  <option value="5">Junio</option>
						  <option value="6">Julio</option>
						  <option value="7">Agosto</option>
						  <option value="8">Septiembre</option>
						  <option value="9">Octubre</option>
						  <option value="10">Noviembre</option>
						  <option value="11">Diciembre</option>
						</select>
					  </div>
				</div>
				<div class="form-group">
					<div class="input-group mb-3">
						<div class="input-group-prepend">
						  <label class="input-group-text" for="inputGroupSelect021">Año</label>
						</div>
						<select class="custom-select" id="inputGroupSelect021" name="year_elegidoA" [(ngModel)]="year_elegidoA">
								<option selected disabled value="99">Eligir Año</option>
								<option *ngFor="let i of years">{{i}}</option>
						</select>
						</div>
						
				</div>
				<div class="form-group">
						<div class="input-group mb-3">
								<div class="input-group-prepend">
								  <label class="input-group-text" for="horas">Horas Extra</label>
								</div>
								<input type="number" class="form-control" id="horas" name="horas_extra" [(ngModel)]="horas_extra" aria-describedby="emailHelp" placeholder="0">
								
								</div>
				
				</div>
				<div class="form-group">
						<div class="input-group mb-3">
								<div class="input-group-prepend">
								  <label class="input-group-text" for="precio_extra">€ Hora Extra</label>
								</div>
								<input type="number" class="form-control" name="precio_hora_extra" [(ngModel)]="precio_hora_extra" id="precio_extra" aria-describedby="emailHelp" placeholder="25">
								
								</div>
				
				</div>
				<div class="form-group">
						<div class="input-group mb-3">
								<div class="input-group-prepend">
								  <label class="input-group-text" for="paga">Paga Extra</label>
								</div>
								<input type="number" class="form-control" name="paga_extra" [(ngModel)]="paga_extra" id="paga" aria-describedby="emailHelp" placeholder="1000">
								
								</div>
				
				</div>
			<div class="form-group">
			<button type="submit" class="btn btn-primary" (click)="registrarNomina()">Registrar Nómina</button>
			</div>
			
			</form>
		</div>
		
	</div>
</div>
